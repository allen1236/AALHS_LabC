#ifndef CORDICCART2POL_H
#define CORDICCART2POL_H
#include <hls_stream.h>
#include <ap_fixed.h>
#include <ap_int.h>
#define NO_ITER 16
//
#define INT_BW 3
#define FLOAT_BW -13
#define TOT_BW 16
#define TOT_STEP 8
#define Kn 0.858787520484
//typedef ap_fixed<TOT_BW, INT_BW, AP_RND_CONV> data_t;
typedef float data_t;
typedef ap_fixed<TOT_BW, INT_BW, AP_RND_CONV> data_comp_t;
typedef ap_fixed<TOT_BW+9, INT_BW+9> data_sgn_ext;
typedef ap_uint<4> data_idx;
//
typedef short   coef_t;
//typedef float data_t;
typedef float acc_t;
/*
union {
	data_t data_tval;
	half fpval;
} data_t2fp;
*/
static data_comp_t ini_phase[4]={3.141592653589793, -3.141592653589793, 1.5707963267948966, -1.5707963267948966};
//static data_t cordic_phase[64]={0.78539816339744828000,0.46364760900080609000,0.24497866312686414000,0.12435499454676144000,0.06241880999595735000,0.03123983343026827700,0.01562372862047683100,0.00781234106010111110,0.00390623013196697180,0.00195312251647881880,0.00097656218955931946,0.00048828121119489829,0.00024414062014936177,0.00012207031189367021,0.00006103515617420877,0.00003051757811552610,0.00001525878906131576,0.00000762939453110197,0.00000381469726560650,0.00000190734863281019,0.00000095367431640596,0.00000047683715820309,0.00000023841857910156,0.00000011920928955078,0.00000005960464477539,0.00000002980232238770,0.00000001490116119385,0.00000000745058059692,0.00000000372529029846,0.00000000186264514923,0.00000000093132257462,0.00000000046566128731,0.00000000023283064365,0.00000000011641532183,0.00000000005820766091,0.00000000002910383046,0.00000000001455191523,0.00000000000727595761,0.00000000000363797881,0.00000000000181898940,0.00000000000090949470,0.00000000000045474735,0.00000000000022737368,0.00000000000011368684,0.00000000000005684342,0.00000000000002842171,0.00000000000001421085,0.00000000000000710543,0.00000000000000355271,0.00000000000000177636,0.00000000000000088818,0.00000000000000044409,0.00000000000000022204,0.00000000000000011102,0.00000000000000005551,0.00000000000000002776,0.00000000000000001388,0.00000000000000000694,0.00000000000000000347,0.00000000000000000173,0.00000000000000000087,0.00000000000000000043,0.00000000000000000022,0.00000000000000000011};
static data_comp_t cordic_phase[14] = {2.001, 0.4636476090008061, 0.24497866312686414, 0.12435499454676144,\
								0.06241880999595735, 0.031239833430268277, 0.015623728620476831, 0.007812341060101111,\
								0.0039062301319669718, 0.0019531225164788188, 0.0009765621895593195, 0.0004882812111948983, 0.00024414062014936177, 0.00012207031189367021};
//static data_comp_t K = 0.858787520484;
static data_t THRESHOLD = 0.001;
void ini_trans(data_t xin, data_t yin, data_t &xout, data_t &yout, data_t &theta_ini);
void cordiccart2pol(data_t x, data_t y, data_t * r,  data_t * theta);
/*
union flt2uint
{
    
};*/


#endif
